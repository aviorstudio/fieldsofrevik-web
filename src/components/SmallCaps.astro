---
export interface Props {
  text: string;
  class?: string;
}

const { text, class: className = '' } = Astro.props;

// Convert text to small caps by making lowercase letters smaller uppercase
const processText = (str: string) => {
  return str.split('').map((char) => {
    if (char === char.toLowerCase() && char !== char.toUpperCase()) {
      // It's a lowercase letter
      return `<span class="text-[0.75em]">${char.toUpperCase()}</span>`;
    }
    // It's already uppercase or not a letter
    return char;
  }).join('');
};

const processedText = processText(text);
---

<span class={className} set:html={processedText} />